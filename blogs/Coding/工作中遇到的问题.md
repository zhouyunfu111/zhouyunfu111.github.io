---
categories:
  - coding
tags:
  - js
date: 2022-04-20
title: 工作中遇到的一些问题!
---

## 单号，流水号等数字长度很长的字段最好不要用数字类型

计算机的计算数字的能力用限制如果长度过长的数字类型。将导致最后几位会被强制转换为0、

## 在vue中filter过滤器配合倒计时功能使用会有性能问题

最近在做项目的时候，有一个报货商品列表页面需要倒计时的功能，然后商品的进价售价以及总价计算都需要四舍五入，最开始打算使用`toFiexd`。

但是发现使用toFiexd进行四舍五入会有问题(1.355会得到1.35)。后面使用了一个过滤器方法来进行四舍五入，发现倒计时每次进行视图渲染时候，

filter都会执行一次，这样商品一多每次倒计时进行试图渲染就会有问题。最后把filter过滤器里的方法放到methods里面就解决了。


## 当时后台一次性返回很多数据时候该如何优化渲染性能

方法1：使用虚拟列表进行优化渲染性能

方法2: 懒加载,分批次加载数据渲染，比如一千数据，我先截取30条数据先加载，只有往滑动到底部的时候，在往里面插入30条数据

## 如何合理的进行用户权限控制

前端定义一个自定义指令，指令里面会根据传入权限编码和用户登录之后拿到的权限编码列表进行判断，如果传入的编码能在用户的权限编码列表找到就显

示，否者就隐藏。然后我们用这个自定义指令去需要做权限控制的按钮，或者组件上进行绑定对应权限编码

